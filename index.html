<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–Ω–ª–∞–π–Ω –¥–Ω–µ–≤–Ω–∏–∫</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body class="light-theme">
    <div class="container">
        <header>
            <div class="header-top">
                <h1>–û–Ω–ª–∞–π–Ω –¥–Ω–µ–≤–Ω–∏–∫</h1>
                <div class="header-controls">
                    <button id="theme-toggle" class="theme-toggle">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
                    <button id="sync-btn" class="sync-btn">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>
            <div class="nav-buttons">
                <button id="prev-week">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–µ–¥–µ–ª—è</button>
                <button id="settings-btn">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button id="next-week">–°–ª–µ–¥—É—é—â–∞—è –Ω–µ–¥–µ–ª—è ‚Üí</button>
            </div>
        </header>
        
        <div class="week-display" id="week-range">
            <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –Ω–µ–¥–µ–ª–∏ -->
        </div>
        
        <div class="days-container" id="days-container">
            <!-- –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        
        <div class="sync-status" id="sync-status"></div>
        
        <footer class="app-info">
            <p>–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ JSONBin</p>
            <p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤: <span id="request-count">0</span>/1000 –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ</p>
        </footer>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è -->
    <div class="modal" id="password-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</h2>
                <span class="close" id="close-password">&times;</span>
            </div>
            <div class="password-prompt">
                <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –≤–≤–µ–¥–∏—Ç–µ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å</p>
                <input type="password" class="password-input" id="password-input" placeholder="–ú–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å">
                <div class="password-error" id="password-error">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.</div>
                <button id="submit-password">–í–æ–π—Ç–∏</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–Ω–µ–≤–Ω–∏–∫–∞</h2>
                <span class="close" id="close-settings">&times;</span>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="schedule">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</div>
                <div class="tab" data-tab="holidays">–ö–∞–Ω–∏–∫—É–ª—ã</div>
                <div class="tab" data-tab="general">–û–±—â–∏–µ</div>
                <div class="tab" data-tab="sync">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</div>
            </div>
            
            <form id="settings-form">
                <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
                <div class="tab-content active" id="schedule-tab">
                    <div class="form-group">
                        <label>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª—É–≥–æ–¥–∏–µ</label>
                        <div id="schedule-first-half">
                            <!-- –ü–æ–ª—è –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—É–≥–æ–¥–∏—è -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Ç–æ—Ä–æ–µ –ø–æ–ª—É–≥–æ–¥–∏–µ</label>
                        <div id="schedule-second-half">
                            <!-- –ü–æ–ª—è –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—É–≥–æ–¥–∏—è -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="semester-break-date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—É–≥–æ–¥–∏—è</label>
                        <input type="date" id="semester-break-date">
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ –∫–∞–Ω–∏–∫—É–ª -->
                <div class="tab-content" id="holidays-tab">
                    <div class="form-group">
                        <label for="schedule-start">–ù–∞—á–∞–ª–æ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞</label>
                        <input type="date" id="schedule-start">
                    </div>
                    
                    <div class="form-group">
                        <label for="schedule-end">–ö–æ–Ω–µ—Ü —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞</label>
                        <input type="date" id="schedule-end">
                    </div>
                    
                    <div class="form-group">
                        <label>–ü–µ—Ä–∏–æ–¥—ã –∫–∞–Ω–∏–∫—É–ª (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ–¥ –Ω–∞—á–∞–ª–∞ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞ –¥–ª—è –¥–∞—Ç –¥–æ –∞–≤–≥—É—Å—Ç–∞ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)</label>
                        <div id="holidays-container">
                            <!-- –ü–æ–ª—è –¥–ª—è –∫–∞–Ω–∏–∫—É–ª –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        <button type="button" class="add-btn" id="add-holiday">+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∏–∫—É–ª—ã</button>
                    </div>
                </div>
                
                <!-- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="tab-content" id="general-tab">
                    <div class="form-group">
                        <label for="max-lessons">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–∫–æ–≤ –≤ –¥–µ–Ω—å</label>
                        <input type="number" id="max-lessons" min="1" max="10" value="8">
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ -->
                <div class="tab-content" id="sync-tab">
                    <div class="form-group">
                        <label for="sync-code">–ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</label>
                        <input type="text" id="sync-code" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏">
                        <p class="help-text">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="auto-sync">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</label>
                        <input type="checkbox" id="auto-sync" checked>
                    </div>
                    
                    <button type="button" class="sync-btn" id="manual-sync">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å</button>
                    
                    <div class="form-group">
                        <label>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ JSONBin</label>
                        <div class="info-box">
                            <p>üîÑ <strong>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω:</strong> 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü</p>
                            <p>üìä <strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:</strong> <span id="jsonbin-request-count">0</span> –∑–∞–ø—Ä–æ—Å–æ–≤</p>
                            <p>üí° <strong>–°–æ–≤–µ—Ç:</strong> –õ–∏–º–∏—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è 1 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞</p>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="save-btn" id="save-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="sync.js"></script>
    
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js')
                    .then(function(registration) {
                        console.log('ServiceWorker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
                    })
                    .catch(function(error) {
                        console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ServiceWorker:', error);
                    });
            });
        }
    </script>
</body>
</html>
